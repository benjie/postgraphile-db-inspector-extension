(function(e){function t(t){for(var a,l,o=t[0],c=t[1],s=t[2],d=0,m=[];d<o.length;d++)l=o[d],i[l]&&m.push(i[l][0]),i[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function l(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"e0eaae9a"}[e]+".js"}function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=i[e]=[t,a]});t.push(n[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=l(e),r=function(t){c.onerror=c.onload=null,clearTimeout(s);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");l.type=a,l.request=r,n[1](l)}i[e]=void 0}};var s=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("1356"),i=n.n(a);i.a},1356:function(e,t,n){},"15ad":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{key:e.policyDefinition.id,attrs:{color:"black"}},[n("v-container",[n("v-toolbar",[n("h1",[e._v("Policy Name: "+e._s(e.policyDefinition.name))]),n("v-spacer"),n("v-layout",{attrs:{"justify-center":""}},[n("v-checkbox",{attrs:{label:"Enable Rls",disabled:e.disabled},model:{value:e.enableRls,callback:function(t){e.enableRls=t},expression:"enableRls"}})],1),n("v-btn",[e._v("Modify")])],1),n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"grants",attrs:{ripple:""}},[e._v("\n        Table Grants\n      ")]),n("v-tab-item",{key:"grants"},[n("v-card",{attrs:{flat:""}},[n("policy-definition-grant-grid",{attrs:{policy:e.policyDefinition,disabled:e.disabled}})],1)],1),n("v-tab",{key:"rls",attrs:{ripple:"",disabled:!e.enableRls}},[e._v("\n        Row Level Security\n      ")]),n("v-tab-item",{key:"rls"},[n("v-card",{attrs:{flat:""}},[n("policy-rls-qualifier-grid",{attrs:{policy:e.policyDefinition,disabled:e.disabled}})],1)],1),n("v-tab",{key:"policy-template",attrs:{ripple:""}},[e._v("\n        "+e._s(e.table?"Policy":"Policy Template")+"\n      ")]),n("v-tab-item",{key:"policy-template"},[n("v-card",{attrs:{flat:""}},[n("policy-realization",{attrs:{policyDefinition:e.policyDefinition,table:e.table}})],1)],1)],1)],1)],1)},i=[],r=(n("7514"),n("cebc")),l=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.headers,items:e.grantMatrix,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.roleName))]),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"all"),disabled:e.roleGrantDisabled(t.item,"all")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"all")}}})],1),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"select"),disabled:e.roleGrantDisabled(t.item,"select")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"select")}}})],1),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"insert"),disabled:e.roleGrantDisabled(t.item,"insert")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"insert")}}})],1),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"update"),disabled:e.roleGrantDisabled(t.item,"update")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"update")}}})],1),n("td",[n("v-checkbox",{attrs:{"input-value":e.roleGrantSelected(t.item,"delete"),disabled:e.roleGrantDisabled(t.item,"delete")},on:{click:function(n){return e.toggleRoleGrant(t.item.roleName,"delete")}}})],1)]}}])})}),o=[],c=n("bd86"),s=n("a4bb"),d=n.n(s),u="ALLOWED",m="DENIED",v="IMPLIED",p={name:"PolicyDefinitionGrantGrid",props:{policy:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{policyStructure:[],calculatedPolicy:"NOT CALCULATED",toggleCompleted:!1}},watch:{},methods:{roleGrantSelected:function(e,t){return[u,v].indexOf(e[t])>-1},roleGrantDisabled:function(e,t){return e[t]===v||this.disabled},toggleRoleGrant:function(e,t){var n=this;if(!0!==this.toggleCompleted){var a=this.policy.roleGrants[e][t],i=this.projectRoles.filter(function(t){return void 0!==t.applicableRoles.find(function(t){return t.roleName===e})}).reduce(function(e,t){return e.concat(t.roleName)},[]),l=Object(r["a"])({},this.policy,{roleGrants:d()(this.policy.roleGrants).reduce(function(l,o){var s=i.indexOf(o)>-1,p=o===e;return Object(r["a"])({},l,Object(c["a"])({},o,d()(n.policy.roleGrants[o]).reduce(function(e,i){var l;n.policy.roleGrants[o][i];return l="all"===t?p?a===u?m:"all"===i?u:v:s?a===u?m:v:n.policy.roleGrants[o][i]:i===t?p?a===u?m:u:s?a===u?m:v:n.policy.roleGrants[o][i]:"all"==i&&(s||p)&&a===u?m:n.policy.roleGrants[o][i],Object(r["a"])({},e,Object(c["a"])({},i,l))},{})))},{})});this.$store.commit("savePolicy",{policy:l}),this.toggleCompleted=!0}else this.toggleCompleted=!1}},computed:{projectRoles:function(){return this.$store.state.projectRoles},grantMatrix:function(){var e=this;return d()(this.policy.roleGrants).map(function(t){return Object(r["a"])({},e.policy.roleGrants[t],{roleName:t})})},headers:function(){return[{text:"Role Name",sortable:!1},{text:"ALL",sortable:!1},{text:"SELECT",sortable:!1},{text:"INSERT",sortable:!1},{text:"UPDATE",sortable:!1},{text:"DELETE",sortable:!1}]}}},f=p,h=n("2877"),b=n("6544"),g=n.n(b),k=n("ac7c"),y=n("8fea"),N=Object(h["a"])(f,l,o,!1,null,null,null),S=N.exports;g()(N,{VCheckbox:k["a"],VDataTable:y["a"]});var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.headers,items:e.rlsQualifierMatrix,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.roleName))]),e._l(["all","select","insert","update","delete"],function(a){return n("td",{key:a},[n("v-btn",{attrs:{hidden:e.disabled},on:{click:function(n){return e.addRlsPolicy(t.item.roleName,a)}}},[e._v("Add Policy")]),e._l(t.item[a].policies,function(i){return n("rls-policy-dialog",{key:i.roleName+"-"+i.id,attrs:{action:a,roleName:t.item.roleName,rlsPolicy:i,status:"ENABLED",disableRlsPolicy:e.disableRlsPolicy,updateRlsPolicy:e.updateRlsPolicy,disabled:e.disabled}})}),e._l(e.impliedPolicies(t.item.roleName,a),function(i){return n("rls-policy-dialog",{key:i.roleName+"-"+i.id,attrs:{action:a,roleName:t.item.roleName,rlsPolicy:i,status:"IMPLIED",disableRlsPolicy:e.disableRlsPolicy,updateRlsPolicy:e.updateRlsPolicy,disabled:e.disabled}})})],2)})]}}])})},T=[],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{persistent:"",width:"1400"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"text-none",attrs:{dark:"",disabled:e.btnDisabled,hidden:e.hidden},on:{click:e.activate}},a),[e._v("\n        "+e._s(e.displayValue)+"\n      ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Rls Policy")]),n("v-text-field",{attrs:{label:"Name",disabled:e.disabled},model:{value:e.currentName,callback:function(t){e.currentName=t},expression:"currentName"}}),n("v-radio-group",{attrs:{column:!1,disabled:e.disabled},model:{value:e.currentPassStrategy,callback:function(t){e.currentPassStrategy=t},expression:"currentPassStrategy"}},[n("v-radio",{attrs:{label:"Permissive",value:"permissive"}}),n("v-radio",{attrs:{label:"Restrictive",value:"restrictive"}})],1),n("v-text-field",{attrs:{label:"Using",disabled:e.disabled},model:{value:e.currentUsing,callback:function(t){e.currentUsing=t},expression:"currentUsing"}}),n("v-text-field",{attrs:{label:"With Check",disabled:e.disabled},model:{value:e.currentWithCheck,callback:function(t){e.currentWithCheck=t},expression:"currentWithCheck"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{hidden:e.disabled},on:{click:function(t){e.updateRlsPolicy(e.roleName,e.action,e.rlsPolicy.id,e.currentUsing,e.currentWithCheck,e.currentPassStrategy,e.currentName),e.dialog=!1}}},[e._v("Update")]),n("v-btn",{attrs:{hidden:e.disabled},on:{click:function(t){e.disableRlsPolicy(e.roleName,e.action,e.rlsPolicy.id),e.dialog=!1}}},[e._v("Disable")]),n("v-btn",{attrs:{hidden:e.disabled},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{hidden:!e.disabled},on:{click:function(t){e.dialog=!1}}},[e._v("OK")]),n("v-spacer")],1)],1)],1)],1)},x=[],F=(n("7f7f"),"DISABLED"),P="IMPLIED",R={name:"RlsPolicyDialog",props:{disabled:{type:Boolean,default:!1},status:{type:String,required:!0},rlsPolicy:{type:Object,required:!0},action:{type:String,required:!0},roleName:{type:String,required:!0},disableRlsPolicy:{type:Function,required:!0},updateRlsPolicy:{type:Function,required:!0}},data:function(){return{toggleCompleted:!1,dialog:!1,currentName:"n/a",currentUsing:"n/a",currentWithCheck:"n/a",currentPassStrategy:!1}},computed:{displayValue:function(){return this.rlsPolicy.name},rlsQualifierDisplayValueDisabled:function(){return!1},hidden:function(){return!1},btnDisabled:function(){return[F,P].indexOf(this.status)>-1}},watch:{},methods:{activate:function(){this.currentName=this.rlsPolicy.name,this.currentUsing=this.rlsPolicy.using,this.currentWithCheck=this.rlsPolicy.withCheck,this.currentPassStrategy=this.rlsPolicy.passStrategy}}},O=R,D=(n("8522"),n("8336")),w=n("b0af"),j=n("99d9"),E=n("12b2"),V=n("169a"),I=n("67b6"),G=n("43a6"),A=n("9910"),q=n("2677"),$=Object(h["a"])(O,C,x,!1,null,null,null),B=$.exports;g()($,{VBtn:D["a"],VCard:w["a"],VCardActions:j["a"],VCardTitle:E["a"],VDialog:V["a"],VRadio:I["a"],VRadioGroup:G["a"],VSpacer:A["a"],VTextField:q["a"]});var L="ENABLED",U="DISABLED",M="IMPLIED",Q={name:"PolicyRlsQualifierGrid",components:{RlsPolicyDialog:B},props:{policy:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{toggleCompleted:!1,dialog:!1,currentUsing:"n/a",currentWithCheck:"n/a"}},watch:{},methods:{impliedPolicies:function(e,t){var n=this,a=this.projectRoles.find(function(t){return t.roleName===e}).applicableRoles.reduce(function(e,t){return e.concat(t.roleName)},[]).concat([e]);console.log("imp",a);var i=a.reduce(function(a,i){return i!==e?(console.log("all",n.policy.rlsQualifiers,i,t),"all"===t?a.concat(n.policy.rlsQualifiers[i][t].policies):a.concat(n.policy.rlsQualifiers[i][t].policies).concat(n.policy.rlsQualifiers[i].all.policies)):"all"===t?a:a.concat(n.policy.rlsQualifiers[i].all.policies)},[]);return i},addRlsPolicy:function(e,t){this.$store.commit("createRlsPolicy",{policyId:this.policy.id,roleName:e,action:t})},disableRlsPolicy:function(e,t,n){this.$store.commit("deleteRlsPolicy",{policyId:this.policy.id,roleName:e,action:t,rlsPolicyId:n})},updateRlsPolicy:function(e,t,n,a,i,l,o){var s=this.policy.rlsQualifiers[e][t].policies.filter(function(e){return e.id!==n}).concat([{id:n,using:a,withCheck:i,passStrategy:l,name:o}]),d=Object(r["a"])({},this.policy,{rlsQualifiers:Object(r["a"])({},this.policy.rlsQualifiers,Object(c["a"])({},e,Object(r["a"])({},this.policy.rlsQualifiers[e],Object(c["a"])({},t,{status:this.policy.rlsQualifiers[e][t].status,policies:s,using:a,withCheck:i,passStrategy:l}))))});this.$store.commit("savePolicy",{policy:d})},rlsQualifierCheckLabel:function(e,t){switch(e[t].status){case L:return"Add Policy";case U:return"Enable";case M:return"Add Policy"}}},computed:{projectRoles:function(){return this.$store.state.projectRoles},defaultRLSQual:function(){return this.$store.state.defaultRLSQual},rlsQualifierMatrix:function(){var e=this;return d()(this.policy.rlsQualifiers).map(function(t){return Object(r["a"])({},e.policy.rlsQualifiers[t],{roleName:t})})},headers:function(){return[{text:"Role Name",sortable:!1},{text:"ALL",sortable:!1},{text:"SELECT",sortable:!1},{text:"INSERT",sortable:!1},{text:"UPDATE",sortable:!1},{text:"DELETE",sortable:!1}]}}},W=Q,H=(n("8a6c"),Object(h["a"])(W,_,T,!1,null,null,null)),z=H.exports;g()(H,{VBtn:D["a"],VDataTable:y["a"]});var K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-toolbar",[n("v-layout",{attrs:{"align-center":"","align-content-center":"","justify-center":"","justify-content-center":""}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({on:{click:e.expand}},a),[n("v-icon",[e._v("note_add")])],1)]}}])},[n("span",[e._v("Expand")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({},a),[n("v-icon",[e._v("file_copy")])],1)]}}])},[n("span",[e._v("Copy")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{hidden:!e.table}},a),[n("v-icon",[e._v("arrow_forward")])],1)]}}])},[n("span",[e._v("Execute")])]),n("v-spacer"),n("v-radio-group",{attrs:{row:""},model:{value:e.policyReadability,callback:function(t){e.policyReadability=t},expression:"policyReadability"}},[n("v-radio",{key:"terse",attrs:{label:"Terse",value:"terse"}}),n("v-radio",{key:"verbose",attrs:{label:"Verbose",value:"verbose"}})],1)],1)],1),n("v-textarea",{attrs:{value:e.computedPolicy,"auto-grow":"","hide-details":"","background-color":"black",disabled:""}})],1)},Y=[],J=n("c3c0"),X={name:"PolicyDefinition",mixins:[J["a"]],components:{},props:{policyDefinition:{type:Object,required:!0},table:{type:Object,required:!1}},data:function(){return{policyStructure:[],calculatedPolicy:"NOT CALCULATED",toggleCompleted:!1,activeTab:"",policyReadability:"terse",computedPolicy:"N/A"}},mounted:function(){this.enableRls=this.policyDefinition.enableRls,this.doComputePolicy()},watch:{policyReadability:function(){this.doComputePolicy()}},methods:{expand:function(){this.computedPolicy="".concat(this.computedPolicy,"=")},doComputePolicy:function(){var e=this.table?{schemaName:this.table.tableSchema,tableName:this.table.name}:null;this.computedPolicy=this.computePolicy(this.policyDefinition,this.policyReadability,e)}},computed:{}},Z=X,ee=n("a523"),te=n("132d"),ne=n("a722"),ae=n("a844"),ie=n("71d9"),re=n("3a2f"),le=Object(h["a"])(Z,K,Y,!1,null,null,null),oe=le.exports;g()(le,{VBtn:D["a"],VContainer:ee["a"],VIcon:te["a"],VLayout:ne["a"],VRadio:I["a"],VRadioGroup:G["a"],VSpacer:A["a"],VTextarea:ae["a"],VToolbar:ie["a"],VTooltip:re["a"]});var ce={name:"PolicyDefinition",components:{PolicyDefinitionGrantGrid:S,PolicyRlsQualifierGrid:z,PolicyRealization:oe},props:{policyId:{type:Number,required:!0},table:{type:Object,required:!1}},data:function(){return{enableRls:!0,policyStructure:[],calculatedPolicy:"NOT CALCULATED",toggleCompleted:!1,activeTab:"",policyReadability:"terse",computedPolicy:"N/A"}},mounted:function(){this.enableRls=this.policyDefinition.enableRls,this.doComputePolicy()},watch:{policyReadability:function(){this.doComputePolicy()},policy:function(){this.enableRls=this.policyDefinition.enableRls,this.doComputePolicy()},enableRls:function(){this.$store.commit("savePolicy",{policy:Object(r["a"])({},this.policyDefinition,{enableRls:this.enableRls})})}},methods:{expand:function(){this.computedPolicy="".concat(this.computedPolicy,"=")}},computed:{disabled:function(){return null!==this.table&&void 0!==this.table},policyDefinition:function(){var e=this,t=(this.$store.state.policies,this.$store.state.policies.find(function(t){return t.id===e.policyId}));return t}}},se=ce,de=n("71a3"),ue=n("c671"),me=n("fe57"),ve=Object(h["a"])(se,a,i,!1,null,null,null);t["a"]=ve.exports;g()(ve,{VBtn:D["a"],VCard:w["a"],VCheckbox:k["a"],VContainer:ee["a"],VLayout:ne["a"],VSpacer:A["a"],VTab:de["a"],VTabItem:ue["a"],VTabs:me["a"],VToolbar:ie["a"]})},"20be":function(e,t,n){},"2a83":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allEnabledRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roleName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"applicableRoles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roleName"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:131}};n.loc.source={body:"query {\n  allEnabledRoles {\n    nodes {\n      roleName\n      applicableRoles {\n        grantee\n        roleName\n      }\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n},"3b18":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TableById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTyped"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userDefinedTypeName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryKeyConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"indices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"indexName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"policies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"policyName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withCheck"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"qual"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"triggers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerCatalog"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventManipulation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectCatalog"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventObjectTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionOrder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionCondition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionStatement"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionOrientation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTiming"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceOldTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceNewTable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceOldRow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionReferenceNewRow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"triggerFunction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultDataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"argumentDataTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"definition"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"roleTableGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"withHierarchy"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"roleColumnGrants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"grantor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"grantee"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privilegeType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGrantable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkClause"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"uniqueConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"keyColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"referentialConstraints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"constraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueConstraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueConstraintSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchOption"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updateRule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deleteRule"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referencingColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionInUniqueConstraint"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"referencedColumnUsage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"constraintName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionInUniqueConstraint"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"tableColumns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isIdentity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ordinalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnDefault"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isNullable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"characterMaximumLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"characterOctetLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericScale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericPrecision"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericPrecisionRadix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"datetimePrecision"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intervalType"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:2581}};n.loc.source={body:"query TableById(\n  $id: String!\n){\n  tableById(id: $id) {\n    id\n    tableName\n    tableSchema\n    isTyped\n    userDefinedTypeName\n    primaryKeyConstraints {\n      constraintName\n      tableName\n      tableSchema\n    }\n    indices {\n      tableName\n      tableSchema\n      columnName\n      indexName\n    }\n    policies {\n      tableName\n      schemaName\n      policyName\n      roles\n      cmd\n      withCheck\n      qual\n    }\n    triggers {\n      id\n      triggerCatalog\n      triggerSchema\n      triggerName\n      eventManipulation\n      eventObjectCatalog\n      eventObjectSchema\n      eventObjectTable\n      actionOrder\n      actionCondition\n      actionStatement\n      actionOrientation\n      actionTiming\n      actionReferenceOldTable\n      actionReferenceNewTable\n      actionReferenceOldRow\n      actionReferenceNewRow\n      created\n      triggerFunction {\n        id\n        functionName\n        functionSchema\n        resultDataType\n        argumentDataTypes\n        definition\n      }\n    }\n    roleTableGrants {\n      grantor\n      grantee\n      tableName\n      tableSchema\n      privilegeType\n      isGrantable\n      withHierarchy\n    }\n    roleColumnGrants {\n      grantor\n      grantee\n      tableName\n      tableSchema\n      privilegeType\n      isGrantable\n      columnName\n    }\n    checkConstraints {\n      constraintName\n      constraintSchema\n      checkClause\n      tableConstraints {\n        tableName\n        tableSchema\n        constraintType\n      }\n    }\n    uniqueConstraints {\n      constraintName\n      tableName\n      tableSchema\n      constraintName\n      constraintSchema\n      keyColumnUsage {\n        tableSchema\n        tableName\n        columnName\n      }\n    }\n    referentialConstraints {\n      constraintName\n      constraintSchema\n      uniqueConstraintName\n      uniqueConstraintSchema\n      matchOption\n      updateRule\n      deleteRule\n      referencingColumnUsage {\n        constraintName\n        tableSchema\n        tableName\n        columnName\n        ordinalPosition\n        positionInUniqueConstraint\n      }\n      referencedColumnUsage {\n        constraintName\n        tableSchema\n        tableName\n        columnName\n        ordinalPosition\n        positionInUniqueConstraint\n      }\n    }\n    tableColumns {\n      tableName\n      tableSchema\n      columnName\n      dataType\n      isIdentity\n      ordinalPosition\n      columnDefault\n      isNullable\n      characterMaximumLength\n      characterOctetLength\n      numericScale\n      numericPrecision\n      numericPrecisionRadix\n      datetimePrecision\n      intervalType\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function l(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,l=new Set,o=new Set;a.forEach(function(e){o.add(e)});while(o.size>0){var c=o;o=new Set,c.forEach(function(e){if(!l.has(e)){l.add(e);var t=i[e]||new Set;t.forEach(function(e){o.add(e)})}})}return l.forEach(function(t){var a=r(e,t);a&&n.definitions.push(a)}),n}(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n,e.exports["TableById"]=l(n,"TableById")},"3ec9":function(e,t,n){},5143:function(e,t,n){"use strict";(function(e){n("6b54");var a=n("15ad");t["a"]={name:"PolicyManager",components:{PolicyDefinition:a["a"]},methods:{saveNewPolicy:function(){try{this.$store.commit("newPolicy",{name:this.newPolicyName})}catch(e){alert(e.toString())}this.dialog=!1}},computed:{policies:function(){return console.log("wtf",this.$store.state.policies.length),this.$store.state.policies}},data:function(){return{dialog:!1,newPolicyName:"New Policy",headers:[{text:"ID",sortable:!1},{text:"Name",sortable:!1}]}},mounted:function(){e.client&&window&&(window.history.scrollRestoration="auto")}}}).call(this,n("4362"))},"52c4":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FunctionById"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"functionById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultDataType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"argumentDataTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"definition"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:165}};n.loc.source={body:"query FunctionById($id: String!) {\n  functionById(id: $id) {\n    id\n    functionName\n    functionSchema\n    resultDataType\n    argumentDataTypes\n    definition\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function l(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,l=new Set,o=new Set;a.forEach(function(e){o.add(e)});while(o.size>0){var c=o;o=new Set,c.forEach(function(e){if(!l.has(e)){l.add(e);var t=i[e]||new Set;t.forEach(function(e){o.add(e)})}})}return l.forEach(function(t){var a=r(e,t);a&&n.definitions.push(a)}),n}(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n,e.exports["FunctionById"]=l(n,"FunctionById")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=n("bb71");n("da64");a["a"].use(i["a"],{iconfont:"md"});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":"",width:"400",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("project-navigator")],1),n("v-toolbar",{attrs:{app:"","clipped-left":e.clipped}},[n("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-spacer"),n("div",{attrs:{selectable:""}},[n("v-toolbar-title",{attrs:{selectable:""},domProps:{textContent:e._s(e.title)},on:{click:e.home}})],1),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.settings(t)}}},[n("v-icon",[e._v("settings")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.home(t)}}},[n("v-icon",[e._v("home")])],1)],1),n("v-content",[n("v-container",{attrs:{"justify-start":"","ma-0":"","pa-0":""}},[n("v-toolbar",[n("v-btn",{on:{click:function(t){return e.$router.push({name:"security-manager"})}}},[e._v("Security")]),n("v-btn",{on:{click:function(t){return e.$router.push({name:"fk-index-manager"})}}},[e._v("Indexes")]),n("v-btn",{on:{click:function(t){return e.$router.push({name:"smart-comment-manager"})}}},[e._v("Smart Comments")])],1),n("router-view")],1)],1),n("v-footer",{attrs:{fixed:e.fixed,app:""}},[n("span",[e._v("© 2017")])])],1)},l=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("schema-navigator")],1)},c=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tabs",[n("v-tab",{key:"schemata"},[e._v("Schemata")]),n("v-tab-item",{key:"schemata"},[n("v-toolbar",[n("v-btn",{on:{click:e.toggleFilter}},[e._v(e._s(e.filterButtonText))])],1),e.filterOn?e._e():n("schema-tree"),e.filterOn?n("schema-filter",{attrs:{afterApply:e.toggleFilter}}):e._e()],1)],1)],1)},d=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.computing?n("h1",[e._v("COMPUTING SCHEMA TREE....")]):e._e(),n("v-treeview",{attrs:{items:e.items,activatable:"",transition:"",active:e.active},on:{"update:active":function(t){e.active=t}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},m=[],v=(n("28a5"),n("7f7f"),{name:"SchemaTree",computed:{managedSchemata:function(){return this.$store.state.managedSchemata}},data:function(){return{active:[],items:[],schemata:[],selected:[],computing:!1}},methods:{computeItems:function(){var e=this;this.computing=!0,this.items=this.managedSchemata.map(function(t){return{id:"schema:".concat(t.schemaName),name:t.schemaName,children:e.filterMode?[]:[{id:"tables:".concat(t.schemaName),name:"tables",children:t.schemaTables},{id:"functions:".concat(t.name),name:"functions",children:t.schemaFunctions},{id:"enums:".concat(t.name),name:"enums",children:t.schemaEnums.map(function(e){return{id:e.id,name:e.name,children:e.enumValues.map(function(t){return{id:"ev:".concat(e.name,":").concat(t),name:t}})}})}]}}),this.computing=!1}},watch:{selectedSchemata:function(){this.computeItems()},active:function(){var e=this.active[0]||"",t=e.split(":")[0];switch(t){case"table":this.$router.push({name:"table",params:{id:e}});break;case"tables":break;case"function":this.$router.push({name:"function",params:{id:e}});break;default:break}}},mounted:function(){this.computeItems()}}),p=v,f=n("2877"),h=n("6544"),b=n.n(h),g=n("a523"),k=n("eb2a"),y=Object(f["a"])(p,u,m,!1,null,null,null),N=y.exports;b()(y,{VContainer:g["a"],VTreeview:k["a"]});var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{on:{click:e.apply}},[e._v("Apply")]),e.computing?n("h1",[e._v("Refreshing Schemata....")]):e._e(),n("v-treeview",{attrs:{items:e.items,transition:"",selectable:!0},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},_=[],T=n("a6c0"),C=n.n(T),x=n("f72c"),F=n.n(x),P={name:"SchemaFilter",computed:{},data:function(){return{items:[],schemata:[],selected:[],selectedSchemata:[],computing:!1}},props:{afterApply:{type:Function,required:!0}},methods:{apply:function(){var e=this;this.computing=!0,this.$apollo.query({query:F.a,variables:{schemaNames:this.selected}}).then(function(t){e.$store.commit("setManagedSchemata",t.data.allSchemata.nodes),e.computing=!1,e.afterApply()}).catch(function(t){console.error(t),e.computing=!1,e.afterApply()})},computeItems:function(){this.computing=!0;var e=this.$store.state.managedSchemata||[],t=this.schemata;this.items=t.map(function(e){return{id:e.schemaName,name:e.schemaName,children:[]}}),console.log("wha",e),this.selected=e.reduce(function(e,t){return e.concat([t.schemaName])},[]),this.computing=!1}},watch:{},apollo:{init:{query:C.a,update:function(e){this.schemata=e.allSchemata.nodes,this.computeItems()}}}},R=P,O=n("8336"),D=Object(f["a"])(R,S,_,!1,null,null,null),w=D.exports;b()(D,{VBtn:O["a"],VTreeview:k["a"]});var j={name:"SchemaNavigator",components:{SchemaTree:N,SchemaFilter:w},data:function(){return{filterOn:!1,forceRefetch:!1}},computed:{filterButtonText:function(){return this.filterOn?"Apply":"Filter"}},methods:{toggleFilter:function(){this.filterOn=!this.filterOn}}},E=j,V=n("71a3"),I=n("c671"),G=n("fe57"),A=n("71d9"),q=Object(f["a"])(E,s,d,!1,null,null,null),$=q.exports;b()(q,{VBtn:O["a"],VContainer:g["a"],VTab:V["a"],VTabItem:I["a"],VTabs:G["a"],VToolbar:A["a"]});var B={name:"ProjectNavigator",components:{SchemaNavigator:$}},L=B,U=Object(f["a"])(L,o,c,!1,null,null,null),M=U.exports;b()(U,{VContainer:g["a"]});var Q={name:"App",components:{ProjectNavigator:M},methods:{home:function(){this.$router.push({name:"home"})},settings:function(){this.$router.push({name:"settings"})}},data:function(){return{clipped:!0,drawer:!0,fixed:!1,items:[],miniVariant:!1,right:!0,rightDrawer:!1,title:"pg-db-inspector"}}},W=Q,H=(n("034f"),n("7496")),z=n("549c"),K=n("553a"),Y=n("132d"),J=n("f774"),X=n("9910"),Z=n("706c"),ee=n("2a7f"),te=Object(f["a"])(W,r,l,!1,null,null,null),ne=te.exports;b()(te,{VApp:H["a"],VBtn:O["a"],VContainer:g["a"],VContent:z["a"],VFooter:K["a"],VIcon:Y["a"],VNavigationDrawer:J["a"],VSpacer:X["a"],VToolbar:A["a"],VToolbarSideIcon:Z["a"],VToolbarTitle:ee["a"]});var ae=n("8c4f"),ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"ma-0":"","pa-0":""}},[n("router-link",{attrs:{to:{path:"security-manager"}}},[n("h1",[e._v("security manager")])]),n("h2",[e._v("A tool to ensure that all "),n("a",{attrs:{href:"https://learn.graphile.org/docs/PostgreSQL_Row_Level_Security_Infosheet.pdf",target:"_blank"}},[e._v("table grants and rls policies")]),e._v(" are properly indexed to support postgraphile")]),n("router-link",{attrs:{to:{path:"fk-index-manager"}}},[n("h1",[e._v("foreign key indexes")])]),n("h2",[e._v("A tool to ensure that all "),n("a",{attrs:{href:"https://www.graphile.org/postgraphile/postgresql-indexes/",target:"_blank"}},[e._v("foreign keys")]),e._v(" are properly indexed to support postgraphile")]),n("router-link",{attrs:{to:{path:"smart-comment-manager"}}},[n("h1",[e._v("smart comment manager")])]),n("h2",[e._v("A tool to ensure that all "),n("a",{attrs:{href:"https://www.graphile.org/postgraphile/smart-comments/",target:"_blank"}},[e._v("smart comments")]),e._v(" are properly configured to support postgraphile")])],1)},re=[],le={name:"Home",components:{},props:{},computed:{},data:function(){return{activeTab:null}},apollo:{}},oe=le,ce=Object(f["a"])(oe,ie,re,!1,null,null,null),se=ce.exports;b()(ce,{VContainer:g["a"]});var de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h1",[e._v(e._s(e.tableSchema)+"."+e._s(e.tableName))]),n("h3",[e._v(e._s(e.id))]),n("hr"),n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"cols",attrs:{ripple:""}},[e._v("\n      Columns\n    ")]),n("v-tab-item",{key:"cols"},[n("v-card",{attrs:{flat:""}},[n("table-columns",{attrs:{tableColumns:e.tableColumns}})],1)],1),n("v-tab",{key:"constraints",attrs:{ripple:""}},[e._v("\n      Constraints\n    ")]),n("v-tab-item",{key:"constraints"},[n("v-card",{attrs:{flat:""}},[n("table-constraints",{attrs:{tableInfo:e.tableInfo}})],1)],1),n("v-tab",{key:"indices",attrs:{ripple:""}},[e._v("\n      Indices\n    ")]),n("v-tab-item",{key:"indices"},[n("v-card",{attrs:{flat:""}},[n("table-indices",{attrs:{indices:e.indices}})],1)],1),n("v-tab",{key:"tablegrants",attrs:{ripple:""}},[e._v("\n      Table Grants\n    ")]),n("v-tab-item",{key:"tablegrants"},[n("v-card",{attrs:{flat:""}},[n("table-grants",{attrs:{grants:e.tableGrants}})],1)],1),n("v-tab",{key:"tablecolumngrants",attrs:{ripple:""}},[e._v("\n      Column Grants\n    ")]),n("v-tab-item",{key:"tablecolumngrants"},[n("v-card",{attrs:{flat:""}},[n("table-column-grants",{attrs:{grants:e.tableColumnGrants}})],1)],1),n("v-tab",{key:"tablepolicies",attrs:{ripple:""}},[e._v("\n      Policies\n    ")]),n("v-tab-item",{key:"tablepolicies"},[n("v-card",{attrs:{flat:""}},[n("table-policies",{attrs:{policies:e.tablePolicies}})],1)],1),n("v-tab",{key:"tabletriggers",attrs:{ripple:""}},[e._v("\n      Triggers\n    ")]),n("v-tab-item",{key:"tabletriggers"},[n("v-card",{attrs:{flat:""}},[n("table-triggers",{attrs:{triggers:e.tableTriggers}})],1)],1)],1)],1)},ue=[],me=n("3b18"),ve=n.n(me),pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tableColumns,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.ordinalPosition))]),n("td",[e._v(e._s(t.item.columnName))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.dataType))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.isIdentity))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.isNullable))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.columnDefault))])]}}])})],1)},fe=[],he={name:"TableColumns",props:{tableColumns:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Ordinal",align:"left",sortable:!0,value:"ordinalPosition"},{text:"Column Name",align:"left",sortable:!0,value:"columnName"},{text:"Data Type",align:"right",sortable:!0,value:"dataType"},{text:"Identity",align:"right",sortable:!0,value:"isIdentity"},{text:"Nullable",align:"right",sortable:!0,value:"isNullable"},{text:"Default Value",align:"right",sortable:!0,value:"columnDefault"}],pagination:{sortBy:"ordinalPosition",rowsPerPage:-1}}}},be=he,ge=n("8fea"),ke=Object(f["a"])(be,pe,fe,!1,null,null,null),ye=ke.exports;b()(ke,{VContainer:g["a"],VDataTable:ge["a"]});var Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.indices,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.tableSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.columnName))]),n("td",[e._v(e._s(t.item.indexName))])]}}])})],1)},Se=[],_e={name:"TableIndicies",props:{indices:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"tableSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Column",align:"left",sortable:!0,value:"columnName"},{text:"Index Name",align:"left",sortable:!0,value:"indexName"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},Te=_e,Ce=Object(f["a"])(Te,Ne,Se,!1,null,null,null),xe=Ce.exports;b()(Ce,{VContainer:g["a"],VDataTable:ge["a"]});var Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"refcons",attrs:{ripple:""}},[e._v("\n        Referential Constraints\n      ")]),n("v-tab-item",{key:"refcons"},[n("v-card",{attrs:{flat:""}},[n("table-referential-constraints",{attrs:{referentialConstraints:e.referentialConstraints}})],1)],1),n("v-tab",{key:"chk",attrs:{ripple:""}},[e._v("\n        Check Constraints\n      ")]),n("v-tab-item",{key:"chk"},[n("v-card",{attrs:{flat:""}},[n("table-check-constraints",{attrs:{checkConstraints:e.checkConstraints}})],1)],1),n("v-tab",{key:"uq",attrs:{ripple:""}},[e._v("\n        Unique Constraints\n      ")]),n("v-tab-item",{key:"uq"},[n("v-card",{attrs:{flat:""}},[n("table-unique-constraints",{attrs:{uniqueConstraints:e.uniqueConstraints}})],1)],1)],1)],1)},Pe=[],Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedConstraints,pagination:e.pagination,"hide-actions":!0,"item-key":"constraintName"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",[e._v(e._s(t.item.constraintName)),n("hr"),e._v(e._s(t.item.source))]),n("td",[e._v(e._s(t.item.uniqueConstraintName)),n("hr"),e._v(e._s(t.item.target))]),n("td",[e._v(e._s(t.item.matchOption))]),n("td",[e._v(e._s(t.item.updateRule))]),n("td",[e._v(e._s(t.item.deleteRule))])])]}},{key:"expand",fn:function(t){return[n("v-card",{attrs:{flat:""}},[n("h2",[e._v("Source")]),n("table-key-column-usage",{attrs:{keyColumnUsage:t.item.referencingColumnUsage}})],1),n("v-card",{attrs:{flat:""}},[n("h2",[e._v("Target")]),n("table-key-column-usage",{attrs:{keyColumnUsage:t.item.referencedColumnUsage}})],1)]}}])})],1)},Oe=[],De=n("cebc"),we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.keyColumnUsage,"hide-actions":!0},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.tableSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.columnName))])]}}])})],1)},je=[],Ee={name:"TableKeyColumnUsage",props:{keyColumnUsage:{type:Array,required:!0}},methods:{},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!1,value:"tableSchema"},{text:"Table",align:"left",sortable:!1,value:"tableName"},{text:"Column",align:"left",sortable:!1,value:"columnName"}]}}},Ve=Ee,Ie=Object(f["a"])(Ve,we,je,!1,null,null,null),Ge=Ie.exports;b()(Ie,{VContainer:g["a"],VDataTable:ge["a"]});var Ae={name:"TableReferentialConstraints",components:{TableKeyColumnUsage:Ge},props:{referentialConstraints:{type:Array,required:!0}},computed:{mappedConstraints:function(){return this.referentialConstraints.map(function(e){return Object(De["a"])({},e,{expanded:!1,source:"".concat(e.referencingColumnUsage[0].tableSchema,".").concat(e.referencingColumnUsage[0].tableName,".").concat(e.referencingColumnUsage[0].columnName),target:"".concat(e.referencedColumnUsage[0].tableSchema,".").concat(e.referencedColumnUsage[0].tableName,".").concat(e.referencedColumnUsage[0].columnName)})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Source Constraint",align:"left",sortable:!0,value:"constraintName"},{text:"Target Constraint",align:"left",sortable:!0,value:"uniqueConstraintName"},{text:"On Match",align:"left",sortable:!0,value:"matchOption"},{text:"On Update",align:"left",sortable:!0,value:"updateRule"},{text:"On Delete",align:"left",sortable:!0,value:"deleteRule"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},qe=Ae,$e=n("b0af"),Be=Object(f["a"])(qe,Re,Oe,!1,null,null,null),Le=Be.exports;b()(Be,{VCard:$e["a"],VContainer:g["a"],VDataTable:ge["a"]});var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedConstraints,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.constraintSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.constraintName))]),n("td",[e._v(e._s(t.item.checkClause))])]}}])})],1)},Me=[],Qe={name:"TableCheckConstraints",props:{checkConstraints:{type:Array,required:!0}},computed:{mappedConstraints:function(){return this.checkConstraints.map(function(e){return Object(De["a"])({},e,{expanded:!1,tableName:e.tableConstraints[0].tableName})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"constraintSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Name",align:"left",sortable:!0,value:"constraintName"},{text:"Check Clause",align:"left",sortable:!0,value:"checkClause"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},We=Qe,He=Object(f["a"])(We,Ue,Me,!1,null,null,null),ze=He.exports;b()(He,{VContainer:g["a"],VDataTable:ge["a"]});var Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.uniqueConstraints,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.constraintSchema))]),n("td",[e._v(e._s(t.item.constraintName))])]}}])})],1)},Ye=[],Je={name:"TableUniqueConstraints",props:{uniqueConstraints:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"constraintSchema"},{text:"Name",align:"left",sortable:!0,value:"constraintName"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},Xe=Je,Ze=Object(f["a"])(Xe,Ke,Ye,!1,null,null,null),et=Ze.exports;b()(Ze,{VContainer:g["a"],VDataTable:ge["a"]});var tt={name:"TableConstraints",components:{TableReferentialConstraints:Le,TableCheckConstraints:ze,TableUniqueConstraints:et},props:{tableInfo:{type:Object,required:!0}},computed:{referentialConstraints:function(){return this.tableInfo.referentialConstraints||[]},checkConstraints:function(){return this.tableInfo.checkConstraints||[]},uniqueConstraints:function(){return this.tableInfo.uniqueConstraints||[]}},methods:{},data:function(){return{activeTab:null}}},nt=tt,at=Object(f["a"])(nt,Fe,Pe,!1,null,null,null),it=at.exports;b()(at,{VCard:$e["a"],VContainer:g["a"],VTab:V["a"],VTabItem:I["a"],VTabs:G["a"]});var rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.grants,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.grantee))]),n("td",[e._v(e._s(t.item.privilegeType))])]}}])})],1)},lt=[],ot={name:"TableGrants",props:{grants:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Grantor",align:"left",sortable:!0,value:"grantor"},{text:"Privilege Type",align:"left",sortable:!0,value:"privilegeType"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},ct=ot,st=Object(f["a"])(ct,rt,lt,!1,null,null,null),dt=st.exports;b()(st,{VContainer:g["a"],VDataTable:ge["a"]});var ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.grants,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.tableSchema))]),n("td",[e._v(e._s(t.item.tableName))]),n("td",[e._v(e._s(t.item.columnName))]),n("td",[e._v(e._s(t.item.grantee))]),n("td",[e._v(e._s(t.item.grantor))]),n("td",[e._v(e._s(t.item.privilegeType))]),n("td",[e._v(e._s(t.item.isGrantable))])]}}])})],1)},mt=[],vt={name:"TableGrants",props:{grants:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Schema",align:"left",sortable:!0,value:"tableSchema"},{text:"Table",align:"left",sortable:!0,value:"tableName"},{text:"Column",align:"left",sortable:!0,value:"columnName"},{text:"Grantee",align:"left",sortable:!0,value:"grantee"},{text:"Grantor",align:"left",sortable:!0,value:"grantor"},{text:"Privilege Type",align:"left",sortable:!0,value:"privilegeType"},{text:"Is Grantable",align:"left",sortable:!0,value:"isGrantable"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},pt=vt,ft=Object(f["a"])(pt,ut,mt,!1,null,null,null),ht=ft.exports;b()(ft,{VContainer:g["a"],VDataTable:ge["a"]});var bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.policies,pagination:e.pagination,"hide-actions":!0},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.policyName))]),n("td",[e._v(e._s(t.item.roles))]),n("td",[e._v(e._s(t.item.cmd))]),n("td",[e._v(e._s(t.item.qual))]),n("td",[e._v(e._s(t.item.withCheck))])]}}])})],1)},gt=[],kt={name:"TablePolicies",props:{policies:{type:Array,required:!0}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Policy Name",align:"left",sortable:!0,value:"policyName"},{text:"Roles",align:"left",sortable:!0,value:"roles"},{text:"Cmd",align:"left",sortable:!0,value:"cmd"},{text:"Qual",align:"left",sortable:!0,value:"qual"},{text:"With Check",align:"left",sortable:!0,value:"withCheck"}],pagination:{sortBy:"constraintName",rowsPerPage:-1}}}},yt=kt,Nt=Object(f["a"])(yt,bt,gt,!1,null,null,null),St=Nt.exports;b()(Nt,{VContainer:g["a"],VDataTable:ge["a"]});var _t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mappedTriggers,pagination:e.pagination,"hide-actions":!0,"item-key":"id"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",[e._v(e._s(t.item.triggerName))]),n("td",[e._v(e._s(t.item.eventManipulation))]),n("td",[e._v(e._s(t.item.actionOrientation))]),n("td",[e._v(e._s(t.item.actionTiming))]),n("td",[e._v(e._s(t.item.actionStatement))])])]}},{key:"expand",fn:function(e){return[n("v-card",{attrs:{flat:""}},[n("v-textarea",{attrs:{readonly:"",outline:"",value:e.item.functionDefinition,"auto-grow":""}})],1)]}}])})],1)},Tt=[],Ct={name:"TableTriggers",props:{triggers:{type:Array,required:!0}},computed:{mappedTriggers:function(){return this.triggers.map(function(e){return Object(De["a"])({},e,{expanded:!1,functionDefinition:e.triggerFunction?e.triggerFunction.definition:"N/A"})})}},methods:{changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)}},data:function(){return{headers:[{text:"Name",align:"left",sortable:!0,value:"triggerName"},{text:"Trigger On",align:"left",sortable:!0,value:"eventManipulation"},{text:"Action Orientation",align:"left",sortable:!0,value:"actionOrientation"},{text:"Timing",align:"left",sortable:!0,value:"actionTiming"},{text:"Statement",align:"left",sortable:!0,value:"actionStatement"}],pagination:{sortBy:"triggerName",rowsPerPage:-1}}}},xt=Ct,Ft=n("a844"),Pt=Object(f["a"])(xt,_t,Tt,!1,null,null,null),Rt=Pt.exports;b()(Pt,{VCard:$e["a"],VContainer:g["a"],VDataTable:ge["a"],VTextarea:Ft["a"]});var Ot={name:"Table",components:{TableColumns:ye,TableConstraints:it,TableIndices:xe,TableGrants:dt,TableColumnGrants:ht,TablePolicies:St,TableTriggers:Rt},props:{id:{type:String,required:!0}},computed:{tableName:function(){return this.tableInfo.tableName||"N/A"},tableSchema:function(){return(this.tableInfo.id||"N/A:N/A.N/A").split(":")[1].split(".")[0]},tableColumns:function(){return this.tableInfo.tableColumns||[]},indices:function(){return this.tableInfo.indices||[]},tableGrants:function(){return this.tableInfo.roleTableGrants||[]},tableColumnGrants:function(){return this.tableInfo.roleColumnGrants||[]},tablePolicies:function(){return this.tableInfo.policies||[]},tableTriggers:function(){return this.tableInfo.triggers||[]}},methods:{},data:function(){return{activeTab:null,tableInfo:{}}},apollo:{init:{query:ve.a,variables:function(){return{id:this.id}},update:function(e){this.tableInfo=e.tableById}}}},Dt=Ot,wt=Object(f["a"])(Dt,de,ue,!1,null,null,null),jt=wt.exports;b()(wt,{VCard:$e["a"],VContainer:g["a"],VTab:V["a"],VTabItem:I["a"],VTabs:G["a"]});var Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e._v("\n  FUNCTION DETAIL - "+e._s(e.id)+"\n  "),n("v-textarea",{attrs:{readonly:"",outline:"",value:e.definition,"auto-grow":""}})],1)},Vt=[],It=n("52c4"),Gt=n.n(It),At={name:"Function",props:{id:{type:String,required:!0}},computed:{definition:function(){return this.fn.definition}},data:function(){return{fn:{}}},apollo:{init:{query:Gt.a,variables:function(){return{id:this.id}},update:function(e){this.fn=e.functionById}}}},qt=At,$t=Object(f["a"])(qt,Et,Vt,!1,null,null,null),Bt=$t.exports;b()($t,{VContainer:g["a"],VTextarea:Ft["a"]});var Lt,Ut,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"ma-0":"","pa-0":""}},[n("v-tabs",{attrs:{dark:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"roles",attrs:{ripple:""}},[e._v("\n       Roles\n     ")]),n("v-tab-item",{key:"roles"},[n("v-card",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",{key:"roles"},[n("role-filter")],1)],1)],1)],1)],1),n("v-tab",{key:"policy-manager",attrs:{ripple:""}},[e._v("\n       Policy Set Templates\n     ")]),n("v-tab-item",{key:"policy-manager"},[n("v-card",[n("policy-manager")],1)],1),n("v-tab",{key:"policyAssignment",attrs:{ripple:""}},[e._v("\n       Policy Assignment\n     ")]),n("v-tab-item",{key:"policyAssignment"},[n("v-card",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-card",{key:"olicyAssignment"},[n("policy-assignment")],1)],1)],1)],1)],1),n("v-tab",{key:"policies",attrs:{ripple:""}},[e._v("\n       Schema Security Scripts\n     ")]),n("v-tab-item",{key:"policies"},[n("v-card",[n("security-policy")],1)],1)],1)],1)},Qt=[],Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",e._l(e.roleFamilies,function(t){return n("div",{key:t.name},[n("v-toolbar",[n("v-checkbox",{attrs:{"input-value":e.familyIsSelected(t)},on:{change:function(n){return e.familyCheckChanged(t)}}}),n("h2",[e._v("Applicable Family")]),n("v-spacer"),n("h2",[e._v(e._s(t.name))]),n("v-spacer")],1),n("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.familyHeaders(t),items:t.dataRows,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(a){return[n("tr",{on:{click:function(e){a.expanded=!a.expanded}}},[n("td",[n("v-checkbox",{attrs:{"input-value":e.roleIsSelected(a.item)},on:{change:function(t){return e.roleCheckChanged(a.item)}}})],1),n("td",{staticClass:"text-sm-left"},[e._v(e._s(a.item.roleName))]),e._l(t.allMemberNames,function(t){return n("td",{key:t,staticClass:"text-sm-left"},[e._v(e._s(a.item[t]))])})],2)]}}],null,!0)}),n("hr")],1)}),0)},Ht=[],zt=n("bd86"),Kt=n("5176"),Yt=n.n(Kt),Jt=(n("55dd"),n("75fc")),Xt=n("b6d0"),Zt=n.n(Xt),en=n("774e"),tn=n.n(en),nn=(n("7514"),n("2a83")),an=n.n(nn),rn={name:"RoleFilterFunctionsMixin",methods:{}},ln=rn,on=Object(f["a"])(ln,Lt,Ut,!1,null,null,null),cn=on.exports,sn="---",dn="+++",un={name:"RoleFilter",mixins:[cn],computed:{projectRoles:function(){return this.$store.state.projectRoles},applyDisabled:function(){var e=this;if(this.roles.length>0){var t=this.projectRoles.reduce(function(t,n){var a=e.roles.find(function(e){return e.roleName===n.roleName});return t?a.selected:t},!0),n=this.roles.filter(function(e){return e.selected});return t&&n.length===this.projectRoles.length}return!0},selectedRoleFamilies:function(){return this.$store.state.selectedRoleFamilies}},watch:{},data:function(){return{roleFamilies:[],roles:[],checkedFamilies:[],checkedRoles:{}}},methods:{familyIsSelected:function(e){var t=this,n=e.members.reduce(function(e,n){return e?t.roleIsSelected(n):e},!0);return n},roleIsSelected:function(e){return void 0!==this.projectRoles.find(function(t){return t.roleName===e.roleName})},familyCheckChanged:function(e){var t=this.familyIsSelected(e),n=t?this.projectRoles.filter(function(t){return void 0===e.members.find(function(e){return e.roleName===t.roleName})}):tn()(new Zt.a([].concat(Object(Jt["a"])(e.members),Object(Jt["a"])(this.projectRoles))));this.$store.commit("projectRoles",{projectRoles:n})},roleCheckChanged:function(e){e.selected=!e.selected;var t=this.projectRoles.find(function(t){return t.roleName===e.roleName}),n=t?this.projectRoles.filter(function(t){return t.roleName!==e.roleName}):[].concat(Object(Jt["a"])(this.projectRoles),[e]);this.$store.commit("projectRoles",{projectRoles:n})},familyHeaders:function(e){var t=e.allMemberNames.map(function(e){return{text:e,value:e,sortable:!1}}),n=[{name:"checkbox",sortable:!1},{text:"grantee",name:"grantee",sortable:!1}].concat(t);return n},computeItems:function(){var e=this;this.roles.map(function(t){t.selected=void 0!==e.projectRoles.find(function(e){return e.name===t.name})});var t=this.roles.sort(function(e,t){return e.applicableRoles.length>=t.applicableRoles.length?-1:1}).reduce(function(t,n){var a=t.find(function(e){return new Zt.a(e.allMemberNames).has(n.roleName)});if(a)return t;var i=n.applicableRoles.map(function(e){return e.roleName}).concat([n.roleName]).sort(function(t,n){var a=e.roles.find(function(e){return e.roleName===t}).applicableRoles.length,i=e.roles.find(function(e){return e.roleName===n}).applicableRoles.length;return a>=i?-1:1});return t.concat([{name:n.roleName,selected:e.selectedRoleFamilies.find(function(e){return e.name===n.roleName}),allMemberNames:i}])},[]);this.roleFamilies=t.reduce(function(t,n){var a=n.allMemberNames.reduce(function(t,a){var i=e.roles.find(function(e){return e.roleName===a}),r=n.allMemberNames.reduce(function(e,t){var n=i.applicableRoles.find(function(e){return e.roleName===t});return void 0!==n?Yt()(e,Object(zt["a"])({},t,dn)):i.roleName===t?Yt()(e,Object(zt["a"])({},t,t)):Yt()(e,Object(zt["a"])({},t,sn))},{});return t.concat([Yt()({roleName:a},r)])},[]),i=e.roles.filter(function(e){return n.allMemberNames.indexOf(e.roleName)>-1});return t.concat([Yt()(n,{dataRows:a,members:i})])},[])},familyItems:function(e){return e.items}},apollo:{init:{query:an.a,update:function(e){var t=this;this.roles=e.allEnabledRoles.nodes.map(function(e){t.projectRoles.find(function(t){return t.roleName===e.roleName});return Object(De["a"])({},e,{selected:void 0!==t.projectRoles.find(function(t){return t.roleName===e.roleName})})}),this.computeItems()}}}},mn=un,vn=n("ac7c"),pn=Object(f["a"])(mn,Wt,Ht,!1,null,null,null),fn=pn.exports;b()(pn,{VCheckbox:vn["a"],VContainer:g["a"],VDataTable:ge["a"],VSpacer:X["a"],VToolbar:A["a"]});var hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[e._l(e.managedSchemata,function(t){return n("v-tab",{key:t.schemaName,attrs:{ripple:""}},[e._v("\n      "+e._s(t.schemaName)+"\n    ")])}),e._l(e.managedSchemata,function(t){return n("v-tab-item",{key:t.schemaName},[n("v-data-table",{attrs:{headers:e.headers,items:t.schemaTables,"hide-actions":!0},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",[n("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.expanded=!t.expanded}}},[n("v-icon",[e._v(e._s(t.expanded?"expand_less":"expand_more"))])],1)],1),n("td",[e._v(e._s(t.item.name))]),n("td",[n("policy-assignment-dialog",{attrs:{currentPolicyDefinition:t.item.policyDefinition,table:t.item}})],1)])]}},{key:"expand",fn:function(e){return[n("policy-definition",{attrs:{policyId:e.item.policyDefinition.id,table:e.item}})]}}],null,!0)})],1)})],2)],1)},bn=[],gn=n("15ad"),kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{persistent:"",width:"800"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"text-none",attrs:{dark:""}},a),[e._v("\n        "+e._s(e.displayValue)+"\n      ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Assign Policy")]),n("v-combobox",{attrs:{items:e.allPolicyDefinitions,"item-text":"name","item-value":"id"},model:{value:e.currentSelection,callback:function(t){e.currentSelection=t},expression:"currentSelection"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{disabled:e.updateDisabled},on:{click:e.updateTablePolicyDefinition}},[e._v("Update")]),n("v-spacer")],1)],1)],1)],1)},yn=[],Nn={name:"PolicyAssignmentDialog",props:{currentPolicyDefinition:{type:Object,required:!0},table:{type:Object,required:!0}},mounted:function(){this.currentSelection=this.currentPolicyDefinition},data:function(){return{dialog:!1,currentSelection:null}},computed:{displayValue:function(){return this.currentPolicyDefinition?this.currentPolicyDefinition.name:"n/a"},allPolicyDefinitions:function(){return this.$store.state.policies},updateDisabled:function(){return!this.currentPolicyDefinition||!this.currentSelection||this.currentPolicyDefinition.id===this.currentSelection.id}},watch:{},methods:{updateTablePolicyDefinition:function(){console.log("save",this.table.id,this.currentSelection.name),this.dialog=!1,this.$store.commit("assignTablePolicy",{tableId:this.table.id,policyDefinitionId:this.currentSelection.id})}}},Sn=Nn,_n=(n("ff34"),n("99d9")),Tn=n("12b2"),Cn=n("2b5d"),xn=n("169a"),Fn=Object(f["a"])(Sn,kn,yn,!1,null,null,null),Pn=Fn.exports;b()(Fn,{VBtn:O["a"],VCard:$e["a"],VCardActions:_n["a"],VCardTitle:Tn["a"],VCombobox:Cn["a"],VDialog:xn["a"],VSpacer:X["a"]});var Rn={name:"PolicyAssignment",components:{PolicyDefinition:gn["a"],PolicyAssignmentDialog:Pn},methods:{},watch:{},computed:{policies:function(){return this.$store.state.policies},managedSchemata:function(){var e=this;return this.$store.state.managedSchemata.map(function(t){return Object(De["a"])({},t,{schemaTables:t.schemaTables.map(function(t){var n=e.policies.find(function(e){return e.id===t.policyDefinitionId});return n||(console.log(t.name,t.policyDefinitionId,e.policies),console.log("pd",n.id)),Object(De["a"])({},t,{policyDefinition:n})}).sort(function(e,t){return e.name<t.name?-1:1})})}).sort(function(e,t){return e.schemaName<t.schemaName?-1:1})}},data:function(){return{mappedSchemata:[],headers:[{text:"",sortable:!1},{text:"Table Name",sortable:!1},{text:"Policy Name",sortable:!1}]}}},On=Rn,Dn=Object(f["a"])(On,hn,bn,!1,null,null,null),wn=Dn.exports;b()(Dn,{VBtn:O["a"],VDataTable:ge["a"],VIcon:Y["a"],VTab:V["a"],VTabItem:I["a"],VTabs:G["a"]});var jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-toolbar",[n("v-btn",{on:{click:e.resetState}},[e._v("Reset")]),n("v-btn",{on:{click:e.saveState}},[e._v("Save")])],1),n("hr")],1)},En=[],Vn={name:"SecurityPolicySettings",computed:{},methods:{saveState:function(){},resetState:function(){this.$store.commit("resetDefaultState"),this.loadState()},loadState:function(){}},data:function(){return{}},mounted:function(){this.loadState()}},In=Vn,Gn=Object(f["a"])(In,jn,En,!1,null,null,null),An=Gn.exports;b()(Gn,{VBtn:O["a"],VContainer:g["a"],VToolbar:A["a"]});var qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tabs",{attrs:{dark:"","slider-color":"yellow"}},[e._l(e.allPolicies,function(t){return n("v-tab",{key:t.name,attrs:{ripple:""}},[e._v("\n      "+e._s(t.name)+"\n    ")])}),e._l(e.allPolicies,function(t){return n("v-tab-item",{key:t.name},[n("v-toolbar",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-btn",e._g({on:{click:function(n){return e.expand(t)}}},i),[n("v-icon",[e._v("note_add")])],1)]}}],null,!0)},[n("span",[e._v("Expand")])]),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.policy,expression:"schemaPolicy.policy",arg:"copy"}]},[e._v("Copy")]),n("v-btn",{on:{click:e.calculateAllPolicies}},[e._v("Refresh")])],1),n("v-textarea",{attrs:{disabled:!0,value:t.policy,"auto-grow":"",spellcheck:"false","background-color":"black"}})],1)})],2)],1)},$n=[],Bn=n("c3c0"),Ln=n("2f62"),Un={name:"SecurityPolicy",mixins:[Bn["a"]],components:{},props:{},computed:Object(De["a"])({},Object(Ln["b"])(["policies","managedSchemata"])),watch:{policies:function(){this.calculateAllPolicies()}},methods:{handleCopyStatus:function(e){alert(e)},expand:function(e){e.policy="".concat(e.policy," ")},findTablePolicyTemplate:function(e){return this.policies.find(function(e){return"Default Policy"===e.name})},calcOnePolicy:function(e){var t=this;return e.sort(function(e,t){return e.name<t.name?-1:1}).reduce(function(e,n){var a=t.policies.find(function(e){return e.id===n.policyDefinitionId});console.log("tt",a.id,n.name,a.name,a,t.policies);var i=t.computePolicy(a,"terse");return e.concat(i).split("{{schemaName}}").join(n.tableSchema).split("{{tableName}}").join(n.name)},"")},calculateAllPolicies:function(){var e=this;this.allPolicies=this.managedSchemata.filter(function(e){return!e.parked}).reduce(function(t,n){var a=n.schemaTables,i={name:"".concat(n.schemaName),policy:e.calcOnePolicy(a)};return t.concat([i])},[])}},data:function(){return{allPolicies:[],schemaPolicy:"NOT CALCULATED",defaultRlsPolicies:"NOT CALCULATED",defaultNoRlsPolicies:"NOT CALCULATED",selectedTabName:""}},mounted:function(){this.calculateAllPolicies()}},Mn=Un,Qn=n("3a2f"),Wn=Object(f["a"])(Mn,qn,$n,!1,null,null,null),Hn=Wn.exports;b()(Wn,{VBtn:O["a"],VContainer:g["a"],VIcon:Y["a"],VTab:V["a"],VTabItem:I["a"],VTabs:G["a"],VTextarea:Ft["a"],VToolbar:A["a"],VTooltip:Qn["a"]});var zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-toolbar",[n("v-dialog",{attrs:{persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{color:"primary",dark:""}},a),[e._v("New Policy")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("New Policy")]),n("v-text-field",{attrs:{label:"Name"},model:{value:e.newPolicyName,callback:function(t){e.newPolicyName=t},expression:"newPolicyName"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:e.saveNewPolicy}},[e._v("Save")]),n("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1),n("v-data-table",{staticClass:"text-sm-left",attrs:{headers:e.headers,items:e.policies,"hide-actions":"","item-key":"id"},scopedSlots:e._u([{key:"items",fn:function(t){return[n("tr",{on:{click:function(e){t.expanded=!t.expanded}}},[n("td",{key:"id"},[e._v(e._s(t.item.id))]),n("td",{key:"name"},[e._v(e._s(t.item.name))])])]}},{key:"expand",fn:function(e){return[n("policy-definition",{key:e.item.id,attrs:{policyId:e.item.id}})]}}])})],1)},Kn=[],Yn=n("5143"),Jn=Yn["a"],Xn=n("2677"),Zn=Object(f["a"])(Jn,zn,Kn,!1,null,null,null),ea=Zn.exports;b()(Zn,{VBtn:O["a"],VCard:$e["a"],VCardActions:_n["a"],VCardTitle:Tn["a"],VDataTable:ge["a"],VDialog:xn["a"],VSpacer:X["a"],VTextField:Xn["a"],VToolbar:A["a"]});var ta={name:"SecurityView",components:{RoleFilter:fn,SecurityPolicySettings:An,SecurityPolicy:Hn,PolicyManager:ea,PolicyAssignment:wn},props:{},computed:{},data:function(){return{activeTab:null}},apollo:{}},na=ta,aa=n("0e8f"),ia=n("a722"),ra=Object(f["a"])(na,Mt,Qt,!1,null,null,null),la=ra.exports;b()(ra,{VCard:$e["a"],VContainer:g["a"],VFlex:aa["a"],VLayout:ia["a"],VTab:V["a"],VTabItem:I["a"],VTabs:G["a"]});var oa=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ca=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("A tool to ensure that all "),n("a",{attrs:{href:"https://www.graphile.org/postgraphile/postgresql-indexes/",target:"_blank"}},[e._v("foreign keys")]),e._v(" are properly indexed to support postgraphile")])])}],sa={name:"ForeignKeyIndexManager"},da=sa,ua=Object(f["a"])(da,oa,ca,!1,null,null,null),ma=ua.exports,va=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},pa=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("A tool to ensure that all "),n("a",{attrs:{href:"https://www.graphile.org/postgraphile/smart-comments/",target:"_blank"}},[e._v("smart comments")]),e._v(" are properly configured to support postgraphile")])])}],fa={name:"SmartCommentManager"},ha=fa,ba=Object(f["a"])(ha,va,pa,!1,null,null,null),ga=ba.exports;a["a"].use(ae["a"]);var ka=new ae["a"]({scrollBehavior:function(e,t,n){return n||{x:0,y:0}},routes:[{path:"/",name:"home",component:se},{path:"/security-manager",name:"security-manager",component:la},{path:"/fk-index-manager",name:"fk-index-manager",component:ma},{path:"/smart-comment-manager",name:"smart-comment-manager",component:ga},{path:"/settings",name:"settings",component:An},{path:"/table/:id",name:"table",component:jt,props:!0},{path:"/function/:id",name:"function",component:Bt,props:!0},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),ya=n("a4bb"),Na=n.n(ya),Sa=n("0e44"),_a=n("ead6"),Ta=n.n(_a),Ca="\n\n--=================== END: {{schemaName}}.{{tableName}}  ===================\n",xa=n("979f"),Fa=n.n(xa);a["a"].use(Ln["a"]);var Pa={all:"DENIED",select:"DENIED",insert:"DENIED",update:"DENIED",delete:"DENIED"},Ra={all:{policies:[]},select:{policies:[]},insert:{policies:[]},update:{policies:[]},delete:{policies:[]}};function Oa(e,t,n,a){var i=1e4*(new Date).getTime()+621355968e9;return{id:i,name:a||i,using:e,withCheck:t,passStrategy:n}}function Da(e,t){return console.log("wtf, indeed",e),{id:1e4*(new Date).getTime()+621355968e9,name:e,policyHeaderTemplate:Ta.a,policyFooterTemplate:Ca,roleTableGrantTemplate:Fa.a,enableRls:!0,roleGrants:t.reduce(function(e,t){return Object(De["a"])({},e,Object(zt["a"])({},t.roleName,Pa))},{}),rlsQualifiers:t.reduce(function(e,t){return Object(De["a"])({},e,Object(zt["a"])({},t.roleName,Ra))},{})}}function wa(e,t){return Object(De["a"])({},e,{roleGrants:t.reduce(function(t,n){var a=Na()(e.roleGrants).find(function(e){return e===n.roleName});return Object(De["a"])({},t,Object(zt["a"])({},n.roleName,a||Pa))},{}),rlsQualifiers:t.reduce(function(t,n){var a=Na()(e.rlsQualifiers).find(function(e){return e===n.roleName});return a?t:Object(De["a"])({},t,Object(zt["a"])({},n.roleName,a||Ra))},{})})}var ja={policies:[],defaultPolicy:null,managedSchemata:[],parkedSchemata:[],rawSchemata:[],schemaFilter:[],projectRoles:[],selectedRoleFamilies:[],policyHeaderTemplate:Ta.a,policyFooterTemplate:Ca,roleTableGrantTemplate:Fa.a,defaultRlsUsing:"(auth_fn.app_user_has_access(app_tenant_id) = true)",defaultRlsWithCheck:""},Ea=new Ln["a"].Store({plugins:[Object(Sa["a"])()],state:{policies:ja.policies,defaultPolicy:null,managedSchemata:ja.managedSchemata,parkedSchemata:ja.parkedSchemata,rawSchemata:ja.rawSchemata,schemaFilter:ja.schemaFilter,projectRoles:ja.projectRoles,selectedRoleFamilies:ja.selectedRoleFamilies,policyHeaderTemplate:ja.policyHeaderTemplate,policyFooterTemplate:ja.policyFooterTemplate,roleTableGrantTemplate:ja.roleTableGrantTemplate,defaultRlsUsing:ja.defaultRlsUsing,defaultRlsWithCheck:ja.defaultRlsWithCheck},mutations:{initialize:function(e){0===e.policies.length&&(e.policies=[],e.defaultPolicy=null)},resetDefaultState:function(e){e.policies=ja.policies,e.defaultPolicy=ja.defaultPolicy,e.managedSchemata=ja.managedSchemata,e.parkedSchemata=ja.parkedSchemata,e.rawSchemata=ja.rawSchemata,e.schemaFilter=ja.schemaFilter,e.projectRoles=ja.projectRoles,e.selectedRoleFamilies=ja.selectedRoleFamilies,e.policyHeaderTemplate=ja.policyHeaderTemplate,e.policyFooterTemplate=ja.policyFooterTemplate,e.roleTableGrantTemplate=ja.roleTableGrantTemplate,e.defaultRlsUsing=ja.defaultRlsUsing,e.defaultRlsWithCheck=ja.defaultRlsWithCheck},rawSchemata:function(e,t){e.rawSchemata=t.rawSchemata},setManagedSchemata:function(e,t){var n={id:1e4*(new Date).getTime()+621355968e9,name:"Default Policy",policyHeaderTemplate:Ta.a,policyFooterTemplate:Ca,roleTableGrantTemplate:Fa.a,enableRls:!0,roleGrants:e.projectRoles.reduce(function(e,t){return Object(De["a"])({},e,Object(zt["a"])({},t.roleName,Pa))},{}),rlsQualifiers:e.projectRoles.reduce(function(e,t){return Object(De["a"])({},e,Object(zt["a"])({},t.roleName,Ra))},{})};e.defaultPolicy||(e.defaultPolicy=n,e.policies=e.policies.concat([n]));var a=e.managedSchemata.reduce(function(e,n){return t.find(function(e){return e.id===n.id})?e.concat([n]):e},[]),i=e.managedSchemata.reduce(function(e,n){return t.find(function(e){return e.id===n.id})?e:e.concat([n])},[]),r=e.parkedSchemata.reduce(function(e,n){return t.find(function(e){return e.id===n.id})?e.concat([n]):e},[]),l=e.parkedSchemata.reduce(function(e,t){return r.find(function(e){return e.id===t.id})?e:e.concat([t])},[]),o=t.reduce(function(e,t){return r.concat(a).find(function(e){return e.id===t.id})?e:e.concat([t])},[]).map(function(t){return Object(De["a"])({},t,{schemaTables:t.schemaTables.map(function(t){return Object(De["a"])({},t,{policyDefinitionId:t.policyDefinitionId||e.defaultPolicy.id})})})});e.managedSchemata=r.concat(o).concat(a),e.parkedSchemata=i.concat(l)},assignTablePolicy:function(e,t){var n=e.managedSchemata.reduce(function(e,n){if(e.currentSchema)return e;var a=n.schemaTables.find(function(e){return e.id===t.tableId});return a?Object(De["a"])({},e,{currentSchema:n,currentTable:a}):e},{currentSchema:null,currentTable:null}),a=n.currentSchema,i=n.currentTable,r=e.managedSchemata.filter(function(e){return e.id!==a.id}),l=a.schemaTables.filter(function(e){return e.id!==i.id});e.managedSchemata=[].concat(Object(Jt["a"])(r),[Object(De["a"])({},a,{schemaTables:[].concat(Object(Jt["a"])(l),[Object(De["a"])({},i,{policyDefinitionId:t.policyDefinitionId})])})])},projectRoles:function(e,t){e.projectRoles=t.projectRoles,e.policies=e.policies.map(function(e){return wa(e,t.projectRoles)})},selectedRoleFamilies:function(e,t){e.selectedRoleFamilies=t.selectedRoleFamilies},defaultRlsUsing:function(e,t){e.defaultRlsUsing=t.defaultRlsUsing},defaultRlsWithCheck:function(e,t){e.defaultRlsWithCheck=t.defaultRlsWithCheck},policyTemplateNoRls:function(e,t){e.policyTemplateNoRls=t.policyTemplateNoRls},policyTemplateRls:function(e,t){e.policyTemplateRls=t.policyTemplateRls},newPolicy:function(e,t){var n=e.policies.find(function(e){return e.name===t.name});if(n)throw new Error("A policy with this name already exists");var a=Da(t.name,e.projectRoles);e.policies=[].concat(Object(Jt["a"])(e.policies),[a]).sort(function(e,t){return e.id<t.id})},savePolicy:function(e,t){var n=e.policies.filter(function(e){return e.name!==t.policy.name});e.policies=[].concat(Object(Jt["a"])(n),[t.policy]).sort(function(e,t){return e.id-t.id})},createRlsPolicy:function(e,t){var n=e.policies.find(function(e){return e.id===t.policyId}),a=e.policies.filter(function(e){return e.id!==t.policyId}),i=t.roleName,r=t.action,l=Oa(t.using||ja.defaultRlsUsing,t.withCheck||ja.defaultRlsWithCheck,t.passStrategy||"permissive",t.name),o=Object(De["a"])({},n,{rlsQualifiers:Object(De["a"])({},n.rlsQualifiers,Object(zt["a"])({},i,Object(De["a"])({},n.rlsQualifiers[i],Object(zt["a"])({},r,Object(De["a"])({},n.rlsQualifiers[i][r],{policies:[].concat(Object(Jt["a"])(n.rlsQualifiers[i][r].policies),[l])})))))});e.policies=[].concat(Object(Jt["a"])(a),[o])},deleteRlsPolicy:function(e,t){var n=e.policies.find(function(e){return e.id===t.policyId}),a=e.policies.filter(function(e){return e.id!==t.policyId}),i=t.roleName,r=t.action,l=t.rlsPolicyId,o=Object(De["a"])({},n,{rlsQualifiers:Object(De["a"])({},n.rlsQualifiers,Object(zt["a"])({},i,Object(De["a"])({},n.rlsQualifiers[i],Object(zt["a"])({},r,Object(De["a"])({},n.rlsQualifiers[i][r],{policies:n.rlsQualifiers[i][r].policies.filter(function(e){return e.id!==l})})))))});e.policies=[].concat(Object(Jt["a"])(a),[o])}},actions:{}}),Va=(n("96cf"),n("3b8d"),n("522d")),Ia=n("efe7");a["a"].use(Va["a"]);var Ga="apollo-token",Aa=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||"http://localhost:6099/graphql",qa={httpEndpoint:Aa,tokenName:Ga,persisting:!1,websocketsOnly:!1,ssr:!1};function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Ia["createApolloClient"])(Object(De["a"])({},qa,e)),n=t.apolloClient,a=new Va["a"]({defaultClient:n,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return a}var Ba=n("4eb5"),La=n.n(Ba);a["a"].config.productionTip=!1,a["a"].use(La.a),new a["a"]({router:ka,store:Ea,apolloProvider:$a(),render:function(e){return e(ne)}}).$mount("#app")},8522:function(e,t,n){"use strict";var a=n("3ec9"),i=n.n(a);i.a},"8a6c":function(e,t,n){"use strict";var a=n("20be"),i=n.n(a);i.a},"979f":function(e,t){},a6c0:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDbSchemaList"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"EnumValue",value:"SCHEMA_NAME_ASC"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:125}};n.loc.source={body:"query GetDbSchemaList{\n  allSchemata(\n    orderBy: SCHEMA_NAME_ASC\n  )\n  {\n    nodes {\n      id\n      schemaName\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function l(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,l=new Set,o=new Set;a.forEach(function(e){o.add(e)});while(o.size>0){var c=o;o=new Set,c.forEach(function(e){if(!l.has(e)){l.add(e);var t=i[e]||new Set;t.forEach(function(e){o.add(e)})}})}return l.forEach(function(t){var a=r(e,t);a&&n.definitions.push(a)}),n}(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n,e.exports["GetDbSchemaList"]=l(n,"GetDbSchemaList")},bbf8:function(e,t,n){},c3c0:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],r=(n("28a5"),n("7f7f"),n("a4bb")),l=n.n(r),o="ALLOWED",c="DENIED",s="IMPLIED",d={name:"PolicyComputerMixin",methods:{securityRemoval:function(e,t){return"\n-------------- REMOVE EXISTING TABLE GRANTS ----------------------\n\nrevoke all privileges on table {{schemaName}}.{{tableName}} from public;\n".concat(l()(e.roleGrants).reduce(function(e,t){return e.concat("revoke all privileges on table {{schemaName}}.{{tableName}} from ".concat(t,";\n"))},""))},tableGrants:function(e,t){return"\n-------------- CREATE NEW TABLE GRANTS ----------------------\n\n".concat(l()(e.roleGrants).reduce(function(n,a){var i=e.roleGrants[a];return n.concat("terse"===t?"":"---------------------------------------------------------------------------------------------------------------------------------------".concat(a,"\n")).concat(l()(i).filter(function(e){return"roleName"!==e}).reduce(function(n,r){var l=[o,s].indexOf(e.roleGrants[a].all)>-1;return i[r]===o?l?"all"===r?n.concat("grant ".concat(r," on table {{schemaName}}.{{tableName}} to ").concat(a,";\n")):"terse"===t?n:n.concat("-- IMPLIED:  ".concat(r," on table {{schemaName}}.{{tableName}} to ").concat(a,"\n")):n.concat("grant ".concat(r," on table {{schemaName}}.{{tableName}} to ").concat(a,";\n")):i[r]===s?"terse"===t?n:n.concat("-- IMPLIED:  ".concat(r," on table {{schemaName}}.{{tableName}} to ").concat(a,"\n")):i[r]===c?"terse"===t?n:n.concat("-- DENIED:   ".concat(r," on table {{schemaName}}.{{tableName}} to ").concat(a,"\n")):void 0},""))},""))},rlsSection:function(e,t){return e.enableRls?"\n-------------- ENABLE ROW LEVEL SECURITY ----------------------\n\nalter table {{schemaName}}.{{tableName}} enable row level security;\n\n".concat(l()(e.rlsQualifiers).reduce(function(n,a){return n.concat("terse"===t?"":"---------------------------------------------------------------------------------------------------------------------------------------".concat(a,"\n")).concat(l()(e.rlsQualifiers[a]).reduce(function(t,n){return t.concat(e.rlsQualifiers[a][n].policies.reduce(function(e,t){return e.concat("\ncreate policy ".concat(t.name," on {{schemaName}}.{{tableName}}\n  as ").concat(t.passStrategy,"\n  for ").concat(n,"\n  to ").concat(a,"\n  using ").concat(t.using).concat(""!==(t.withCheck&&t.withCheck)?"\n  with check ".concat(t.withCheck):"","\n  ;\n"))},""))},""))},"")):"\n-------------- DISABLE ROW LEVEL SECURITY ----------------------\n\nalter table {{schemaName}}.{{tableName}} disable row level security;\n\n"},computePolicy:function(e,t,n){var a=e.policyHeaderTemplate,i="---------------------------------------------------------------------------POLICY DEFINITION:  ".concat(e.name,"\n"),r=e.policyFooterTemplate,o=this.securityRemoval(e,t),c=this.tableGrants(e,t),s=this.rlsSection(e,t),d=a.concat(i).concat(o).concat(c).concat(s).concat(r);return n?l()(n).reduce(function(e,t){return e.split("{{".concat(t,"}}")).join(n[t])},d):d}}},u=d,m=n("2877"),v=Object(m["a"])(u,a,i,!1,null,null,null);t["a"]=v.exports},ead6:function(e,t){e.exports="\n--=================== BEGIN: {{schemaName}}.{{tableName}}  ===================\n\n"},f72c:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDbSchemaTreeBySchemaName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"schemaNames"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SqlIdentifier"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allSchemata"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"schemaName"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"in"},value:{kind:"Variable",name:{kind:"Name",value:"schemaNames"}}}]}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schemaTables"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableColumns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tableName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tableSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"columnName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dataType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"schemaFunctions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"functionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"functionSchema"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"schemaEnums"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"name"},name:{kind:"Name",value:"enumName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enumSchema"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enumValues"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:609}};n.loc.source={body:"query GetDbSchemaTreeBySchemaName($schemaNames: [SqlIdentifier!]){\n  allSchemata\n  (\n    filter: {\n      schemaName: {\n        in: $schemaNames\n      }\n    }\n  ) \n  {\n    nodes {\n      id\n      schemaName\n      schemaTables {\n        id\n        name: tableName\n        tableSchema\n        tableColumns {\n          tableName\n          tableSchema\n          columnName\n          dataType\n        }\n      }\n      schemaFunctions {\n        id\n        name: functionName\n        functionSchema\n      }\n      schemaEnums {\n        id\n        name: enumName\n        enumSchema\n        enumValues\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(e){a(e,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(e){a(e,t)}),e.definitions&&e.definitions.forEach(function(e){a(e,t)})}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function l(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,l=new Set,o=new Set;a.forEach(function(e){o.add(e)});while(o.size>0){var c=o;o=new Set,c.forEach(function(e){if(!l.has(e)){l.add(e);var t=i[e]||new Set;t.forEach(function(e){o.add(e)})}})}return l.forEach(function(t){var a=r(e,t);a&&n.definitions.push(a)}),n}(function(){n.definitions.forEach(function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})})(),e.exports=n,e.exports["GetDbSchemaTreeBySchemaName"]=l(n,"GetDbSchemaTreeBySchemaName")},ff34:function(e,t,n){"use strict";var a=n("bbf8"),i=n.n(a);i.a}});
//# sourceMappingURL=app.34bb3a5f.js.map